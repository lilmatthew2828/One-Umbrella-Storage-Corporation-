<!DOCTYPE html>
<html lang="en">
<head>
  <title>Login - Black Ace Vehicle Dealership</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
  <style>
    .user-info-box 
    {
      display: none;
      background-color: #f9f9f9;
      border: 7px solid #ca2f96;
      border-radius: 5px;
      padding: 10px;
      margin-top: 20px;
    }
    .dataWindow
    {
      border: 7px solid #ca2f96;
      border-radius: 5px;
      padding: 10px;
      margin-bottom : 20px;
      
    }
    .trackhawk
    {
      width: 20%;
      /* max-width: 300px;  */
      border: 5px solid #ca2f96;
      border-radius: 5px;
      
      position: absolute;
      top: 16%;
      transform: translateY(100%);

    }
    .foot_user-info-box 
    {
      display: none;
      background-color: #ca2f96;
      border: 7px solid #ca2f96;
      border-radius: 5px;
      padding: 10px;
      margin-top: 20px;
    }
    .additional-info-box {
      display: none;
      background-color: #f9f9f9;
      border: 7px solid #ca2f96;
      border-radius: 5px;
      padding: 10px;
      margin-top: 20px;
    }
    .file-preview-box 
    {
      display: none;
      background-color: #f9f9f9;
      border: 7px solid #ca2f96;
      border-radius: 5px;
      padding: 10px;
      margin-top: 20px;
      white-space: pre-wrap;
      overflow: auto;
      max-height: 200px;
    }
    .customer-invoice-box {
      display: none;
      background-color: #f9f9f9;
      border: 7px solid #ca2f96;
      border-radius: 5px;
      padding: 10px;
      margin-top: 20px;
    }
    #fileInput {
      display: none;
    }
    #uploadBtn {
      margin-top: 10px;
    }
   
    .photo-above-right {
  width: 30%;
  max-width: 320px; 
  height: auto;
  border: 5px solid #ca2f96;
  border-radius: 5px;
  position: absolute;
  top: 10%;
  right: 5%; 
  }

  .photo-above-left {
    width: 30%; 
    max-width: 320px; 
    height: auto;
    border: 5px solid #ca2f96;
    border-radius: 5px;
    position: absolute;
    top: 9%;
    left: 5%; 
  }
  .side-image2 {
    width: 17%;
    /* max-width: 300px;  */
    border: 5px solid #ca2f96;
    border-radius: 5px;
    height: auto;
    position: absolute;
    top: 45%;
    transform: translateY(100%);
  }
  .side-image3 {
    width: 20%;
    /* max-width: 300px;  */
    border: 5px solid #ca2f96;
    border-radius: 5px;
    height: auto;
    position: absolute;
    top: 22%;
    transform: translateY(200%);
  }
  .side-image4 {
    width: 20%;
    /* max-width: 300px;  */
    border: 5px solid #ca2f96;
    border-radius: 5px;
    height: auto;
    position: absolute;
    top: 60%;
    transform: translateY(200%);
  }
  .side-image5 {
    width: 20%;
    /* max-width: 300px;  */
    border: 5px solid #ca2f96;
    border-radius: 5px;
    height: auto;
    position: absolute;
    top: 55%;
    transform: translateY(100%);
  }
  .side-image6 {
    width: 20%;
    /* max-width: 300px;  */
    border: 5px solid #ca2f96;
    border-radius: 5px;
    height: auto;
    position: absolute;
    top: 100%;
    transform: translateY(185%);
  }
  .side-image7 {
    width: 20%;
    /* max-width: 300px;  */
    border: 5px solid #ca2f96;
    border-radius: 5px;
    height: auto;
    position: absolute;
    top: 110%;
    transform: translateY(265%);
  }
  .side-image8 {
    width: 21.4%;
    /* max-width: 300px;  */
    border: 5px solid #ca2f96;
    border-radius: 5px;
    height: auto;
    position: absolute;
    top: 157%;
    transform: translateY(274%);
  }
  .side-image9 {
    width: 21.4%;
    /* max-width: 300px;  */
    border: 5px solid #ca2f96;
    border-radius: 5px;
    height: auto;
    position: absolute;
    top: 120%;
    transform: translateY(204%);
  }
  .side-image10 {
    width: 21.4%;
    /* max-width: 300px;  */
    border: 5px solid #ca2f96;
    border-radius: 5px;
    height: auto;
    position: absolute;
    top: 170%;
    transform: translateY(254%);
  }
  .side-image11 {
    width: 21.4%;
    /* max-width: 300px;  */
    border: 5px solid #ca2f96;
    border-radius: 5px;
    height: auto;
    position: absolute;
    top: 210%;
    transform: translateY(294%);
  }
  .side-image12 {
    width: 21.4%;
    /* max-width: 300px;  */
    border: 5px solid #ca2f96;
    border-radius: 5px;
    height: auto;
    position: absolute;
    top: 120%;
    transform: translateY(294%);
  }


  
  .side-image {
    width: 25%;
    max-width: 300px; 
    border: 5px solid #ca2f96;
    border-radius: 5px;
    height: auto;
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
  }

  .left-image {
    left: 5%;
  }

  .right-image {
    right: 5%; 
  }
  .center-image {
    display: flex;
    justify-content: center;
    align-items: center;
    height: 40vh; /* Set the height of the container to the full viewport height */
  }
  .center-image img {
    max-width: 100%; /* Ensure the image does not exceed the container width */
    max-height: 100%; /* Ensure the image does not exceed the container height */
  }


  .text-center h2 {
    font-size: 40px; 
  }
  </style>
</head>
<body>
  <div class="container center-image">
    <img src="https://github.com/lilmatthew2828/machewwork/blob/main/Black%20White%20Elegant%20Monogram%20Initial%20Name%20Logo.jpeg?raw=true" alt="Flowers in Chania">
  </div>
<div class="container">
 
  <img src="https://www.sixt.com/magazine/wp-content/uploads//sites/6/2022/04/Bugatti-Bolide-Hypercar-resize-1024x683.jpg" class="side-image left-image" alt="Left Image">
 
  <img src="https://m.media-amazon.com/images/M/MV5BMzMwYWZkZjctZTU5Ny00MDNiLTlkMmYtNzkyODMwMGUxYzA2XkEyXkFqcGdeQXVyNzU1NzE3NTg@._V1_.jpg" class="photo-above-left" alt="Photo Above Left">
  <h2 class="text-center">Login </h2>
  <form id="loginForm">
    <div class="form-group">
      <label for="email">Email:</label>
      <input type="email" class="form-control" id="email" placeholder="Enter email" required>
    </div>
    <div class="form-group">
      <label for="password">Password:</label>
      <input type="password" class="form-control" id="password" placeholder="Enter password" required>
    </div>
    <div class="form-group">
      <label for="loginType">Login As:</label>
      <select class="form-control" id="loginType" required>
        <option value="customer">Customer</option>
        <option value="employee">Employee</option>
      </select>
    </div>
    <button type="submit" class="btn btn-primary btn-block">Submit</button>
  </form>
  <div id="loginMessage" class="text-center" style="margin-top: 10px;"></div>
  
 
  <div id="userInfoBox" class="user-info-box">
    <h3>User Information: </h3>
    <p><strong>Email:</strong> <span id="userInfoEmail"></span></p>
    <p><strong>Name:</strong> <span id="userInfoName"></span></p>
    <p><strong>Role:</strong> <span id="userInfoRole"></span></p>
  </div>


<div id="customerInvoiceBox" class="customer-invoice-box">
  <h3>Customer Invoice: </h3> 
  <p>Enter Invoice ID Number</p>  
  <label for="Invoice">Invoice:</label>   
  <input type="invoice" id="Invoice" placeholder="Enter invoice number">
  <button onclick="submitInvoice()">Submit</button> 

 
  <div id="invoiceInfo" style="margin-top: 20px;"></div>  
</div>


<script> // VALIDATING THE INVOICE NUMBER: 
  function submitInvoice() {
    var invoiceNumber = document.getElementById("Invoice").value;
    // validating if the invoice number is 69539767
    if (invoiceNumber === "69539767") 
    {
      // display the service price and its corresponding date
      var invoiceInfo = "<p><strong>Service Price:</strong> $36000</p>";
      invoiceInfo += "<p><strong>Service Date:</strong> 2024-04-16</p>";
      $("#invoiceInfo").html(invoiceInfo);
    } 
    else if (invoiceNumber == '66785395')
    {
      var invoiceInfo = "<p><strong>Service Price:</strong> $23000</p>";
      invoiceInfo += "<p><strong>Service Date:</strong> 2024-04-28</p>"; 
      $("#invoiceInfo").html(invoiceInfo);  
    }
    else if (invoiceNumber == '23456743')
    {
      var invoiceInfo = "<p><strong>Service Price:</strong> $45000</p>";  
      invoiceInfo += "<p><strong>Service Date:</strong> 2024-05-22</p>";
      $("#invoiceInfo").html(invoiceInfo);  
    } 
    else if (invoiceNumber == '45683078')
    {
      var invoiceInfo = "<p><strong>Service Price:</strong> $56000</p>";  
      invoiceInfo += "<p><strong>Service Date:</strong> 2023-05-22</p>";
      $("#invoiceInfo").html(invoiceInfo);  
    }
    else if (invoiceNumber == '87654523')
    {
      var invoiceInfo = "<p><strong>Service Price:</strong> $87000</p>";  
      invoiceInfo += "<p><strong>Service Date:</strong> 2024-03-23</p>";
      $("#invoiceInfo").html(invoiceInfo);  
    }  
    else 
    {
      // print that the user entered number is not valid and they will need to trry again 
      alert("Invalid invoice number. Please try again.");
    }
  }
</script>
<!--==========================================Everything below is displaying everything under the customer invoice box ==========================================--> 

  <!--  the additional user information box -->
  <div id="additionalInfoBox" class="additional-info-box">
    <h3>Additional User Information: </h3>
    <p><strong>ID:</strong> <span id="additionalInfoID"></span></p>
    <p><strong>Age:</strong> <span id="additionalInfoAge"></span></p>
    <p><strong>Phone Number:</strong> <span id="additionalInfoPhoneNumber"></span></p>
    <p><strong>Address:</strong> <span id="additionalInfoAddress"></span></p>
    <p><strong>Date of Birth:</strong> <span id="additionalInfoDOB"></span></p>
  </div>

  <!-- the reads the data upload -->
  <!-- <input type="file" id="fileInput" accept=".csv">
  <button id="uploadBtn" class="btn btn-primary">Upload CSV File</button> -->

  <!-- the box for the csv file box -->
  <!-- <h3 id="filePreviewHeader" style="display:none;">File Preview: </h3>
  <div id="filePreviewBox" class="file-preview-box"></div> -->

  <!-- The images sources for the car pictures on the the login in screen -->
  <img src="https://static1.topspeedimages.com/wordpress/wp-content/uploads/2022/10/1150-HP-Jeep-Grand-Cherokee-Trackhawk.jpg" class="trackhawk right-image" alt="Bottom Right Image"> <!--this is the bottom right image -->


  <img src="https://www.sixt.com/magazine/wp-content/uploads//sites/6/2022/04/Bugatti-Bolide-Hypercar-resize-1024x683.jpg" class="side-image left-image" alt=" Bottom Left Image"> <!--this is the top right image-->

  <!-- Photo above the right image -->
  <img src="https://imageio.forbes.com/specials-images/imageserve/6064c6802c761b99a89d1f21/0x0.jpg?format=jpg&crop=2375,1336,x0,y120,safe&height=600&width=1200&fit=bounds" class="photo-above-right" alt="Upper Right Photo"> 
</div>

<script>
  $(document).ready(function(){
    $("#loginForm").submit(function(e){
        e.preventDefault();
        var email = $("#email").val();
        var password = $("#password").val();
        var loginType = $("#loginType").val();

        
        if(email && password) {
            
            $.ajax({
                url: "/login",
                method: "POST",
                data: {
                    email: email,
                    password: password,
                    loginType: loginType
                },
                success: function(response) {
                    // Handle the response from the server
                    $("#loginMessage").text(response);
                    if (response === "Login successful") {
                        // Display user information box
                        $("#userInfoEmail").text(email);
                        $("#userInfoName").text("Machew Kilpatrick"); // Example name
                        $("#userInfoRole").text(loginType);
                        $("#userInfoBox").slideDown();

                        // Display additional information box
                        $("#additionalInfoID").text("00512831"); // Example ID
                        $("#additionalInfoAge").text("21"); // Example age
                        $("#additionalInfoPhoneNumber").text("9-1-1"); // Example phone number
                        $("#additionalInfoAddress").text("20 Beacons Way"); // Example address
                        $("#additionalInfoDOB").text("September 11, 2001"); // Example date of birth
                        $("#additionalInfoBox").slideDown();
                        
                        // validating that the invoice box if user is a customer 
                        if (loginType === "customer")
                        {
                          $("#customerInvoiceBox").slideDown(); //if the user is the this will slide down and show to invoice info

                        }
                        else if (loginType == 'employee') 
                        {
                          $("#customerInvoiceBox").slideUp();

                        }
                    }
                },
                error: function(xhr, status, error) {
                    // Handling errors, if any
                    console.error(error);
                }
            });
        } else {
            $("#loginMessage").text("Email and password are required");
        }
    });

    // // .csv file uploading/handling
    // $("#uploadBtn").click(function() {
    //     $("#fileInput").click();
    // });

    // $("#fileInput").change(function() {
    //     var file = this.files[0];
    //     if (file) {
    //         var reader = new FileReader();
    //         reader.readAsText(file, "UTF-8");
    //         reader.onload = function (evt) {
    //             var csvData = evt.target.result;
    //             // This shows .csv file in the  box 
    //             var rows = csvData.split("\n");
    //             var table = $("<table>").addClass("table");
    //             rows.forEach(function(row) {
    //                 var columns = row.split(",");
    //                 var tr = $("<tr>");
    //                 columns.forEach(function(column) {
    //                     tr.append($("<td>").text(column));
    //                 });
    //                 table.append(tr);
    //             });
    //             $("#filePreviewBox").html(table);
    //             $("#filePreviewHeader").text("File Preview: " + file.name);
    //             $("#filePreviewHeader").slideDown();
    //             $("#filePreviewBox").slideDown();
    //         }
    //         reader.onerror = function (evt) {
    //             console.error("Error reading file");
    //         }
    //     }
    // });
});

</script> 
<div class="container">
  <!-- <img src="https://static1.topspeedimages.com/wordpress/wp-content/uploads/2022/10/1150-HP-Jeep-Grand-Cherokee-Trackhawk.jpg" class="photo-adjacent-logo" alt="Left Image 1">  -->
  <img src="https://bringatrailer.com/wp-content/uploads/2023/11/2021_dodge_challenger-srt-hellcat-redeye-widebody_2021_dodge_challenger-srt-hellcat-redeye-widebody_a003b6a8-f450-48eb-92fe-3b5243947c2a-gpQvkX-78677-78679-scaled.jpg" class="side-image2 left-image" alt="Left Image 1">
  <img src="https://hips.hearstapps.com/hmg-prod/amv-prod-cad-assets/wp-content/uploads/2016/11/2017-Chevrolet-Camaro-ZL1-102.jpg" class="side-image3 right-image" alt="Left Image 2">
  <img src="https://i1.wp.com/thisis50.com/wp-content/uploads/2022/04/Screen-Shot-2022-04-01-at-3.34.10-PM.png?fit=1200%2C594&ssl=1" class="side-image4 left-image" alt="Right Image 1">
  <img src="https://pbs.twimg.com/media/GBDoEOpa0AAjMZf?format=jpg&name=large" class="side-image5 right-image" alt="Right Image 2">
  <img src="https://hips.hearstapps.com/hmg-prod/images/2023-lightning-lap-honda-civic-type-r-mu-102-1675451016.jpg?crop=0.451xw:0.338xh;0.221xw,0.432xh&resize=1200:*" class="side-image6 left-image" alt="Right Image 3">
  <img src="https://ritholtz.com/wp-content/uploads/2020/04/1-7.jpg" class="side-image7 left-image" alt="Right Image 3">
  <img src="https://cdn.dealeraccelerate.com/ag/3/10154/975061/1920x1440/2021-jeep-grand-cherokee-srt-trackhawk" class="side-image9 right-image" alt="Right Image 3">
  <img src="https://cdn.dealeraccelerate.com/ag/3/10154/975061/1920x1440/2021-jeep-grand-cherokee-srt-trackhawk" class="side-image9 right-image" alt="Right Image 3">
  <img src="https://www.topgear.com/sites/default/files/cars-car/image/2020/04/18lincoln_navigator.jpg?w=1280&h=720" class="side-image10 left-image" alt="Right Image 3">
  <img src="https://hips.hearstapps.com/hmg-prod/images/my25-cadillac-escalade-iq-sport-rjm13416-64d3b05e68568.jpg?crop=1.00xw:0.670xh;0,0.151xh&resize=1200:*" class="side-image11 left-image" alt="Right Image 3">
  <img src="https://m.media-amazon.com/images/I/81nLRXDJf4L.jpg" class="side-image12 right-image" alt="Right Image 3">
  <img src="https://www.cadillac.com/content/dam/cadillac/na/us/english/index/vehicles/2024/crossover-suvs/escalade/escalade-v/my24-escalade-v-20th-anniversary-package-v2.jpg?imwidth=960" class="side-image11 right-image" alt="Right Image 3">


  <h2 class="text-center">Employee Database</h2>

  <!--  vehicle data  -->
  <div id="vehicleDataWindow" class="dataWindow" style="display: none;">
    <h3>Vehicle Data</h3>
    <table class="table">
      <thead>
        <tr>
          <th>VIN Number</th>
          <th>Car Price</th>
          <th>Make</th>
          <th>Model</th>
          <th>Year</th>
        </tr>
      </thead>
      <tbody id="vehicleDataBody"></tbody>
    </table>
    
  <!-- Mechanic Data -->
  <div id="mechanicDataWindow" class="dataWindow" style="display: none;">
    <h3>Mechanic Data</h3>
    <table class="table">
      <thead>
        <tr>
          <th>Mechanic ID</th>
          <th>First Name</th>
          <th>Last Name</th>
          <th>Date Worked</th>
        </tr>
      </thead>
      <tbody id="mechanicDataBody"></tbody>
    </table> 
  </div>

      <!--Salesperson Data-->
  <div id="spDataWindow" class="dataWindow" style="display: none;">
    <h3>Salesperson Data</h3>
    <table class="table">
      <thead>
        <tr>
          <th>Salesperson ID</th>
          <th>First Name</th>
          <th>Last Name</th>
          <th>Date Worked</th>
        </tr>
      </thead>
      <tbody id="spDataBody"></tbody>
    </table> 
  </div>

  <!--Service Inventory Data-->
  <div id="siDataWindow" class="dataWindow" style="display: none;">
    <h3>Service And Inventory Data</h3>
    <table class="table">
      <thead>
        <tr>
          <th>Services </th>
          <th>Parts Amount </th>
          <th>Parts</th>
        </tr>
      </thead>
      <tbody id="siDataBody"></tbody>
    </table> 
  </div>

    <!--Service Schedule Data-->
    <div id="ssDataWindow" class="dataWindow" style="display: none;">
      <h3>Service Schedule Data</h3>
      <table class="table">
        <thead>
          <tr>
            <th>Service Dates </th>
            <th>Services </th>
            <th>Parts </th>
          </tr>
        </thead>
        <tbody id="ssDataBody"></tbody>
      </table> 
    </div>
    <!--Staff Calender Data-->
    <div id="scDataWindow" class="dataWindow" style="display: none;">
      <h3>Staff Calender Data</h3>
      <table class="table">
        <thead>
          <tr>
            <th>Dates Worked </th>
            <th>Sign In Times </th>
            <th>Sign Out Times </th>
            <th>Mechanic ID </th>
            <th>Salesperson ID </th>
          </tr>
        </thead>
        <tbody id="scDataBody"></tbody>
      </table> 
    </div>
  <!--invoice history Data-->
    <div id="ihDataWindow" class="dataWindow" style="display: none;">
      <h3>Invoice History Data</h3>
      <table class="table">
        <thead>
          <tr>
            <th>Invoice ID</th>
            <th>Invoice Price</th>
            <th>Service Date </th>
          </tr>
        </thead>
        <tbody id="ihDataBody"></tbody>
      </table> 
    </div>
     <!--Customer Information Data-->
     <div id="ciDataWindow" class="dataWindow" style="display: none;">
      <h3>Customer Information Data</h3>
      <table class="table">
        <thead>
          <tr>
            <th>Customer ID</th>
            <th>Customer Address</th>
            <th>Date Of Birth </th>
            <th>Customer First Name </th>
            <th>Customer Last Name </th>
            <th>Customer Phone Number </th>
          </tr>
        </thead>
        <tbody id="ciDataBody"></tbody>
      </table> 
    </div>
  
  
  

</div>
<!--ON JESUS CHRIST I DESERVE A COOKIE FOR HOW I READ THE DATA-->
<script>
  // Function to fetch the data from vehicle table of data and display it in its window
  function fetchAndDisplayVehicleData() 
  {
    $.ajax({url: "/fetch_vehicle_data", method: "GET", success: function(response) 
    {
        // Check if vehicle data is available
        if (response && response.length > 0)
        {
          var vehicleDataBody = $("#vehicleDataBody");
          // Clear previous data
          vehicleDataBody.empty();
          // add table rows with vehicle data
          response.forEach(function(vehicle) {
            var row = "<tr>";
            row += "<td>" + vehicle.vin_number + "</td>";
            row += "<td>" + vehicle.car_price + "</td>";
            row += "<td>" + vehicle.vehicle_make + "</td>";
            row += "<td>" + vehicle.vehicle_model + "</td>";
            row += "<td>" + vehicle.vehicle_year + "</td>";
            row += "</tr>";
            vehicleDataBody.append(row);
          });
          // Show the vehicle data window by using the slide down for sexiness
          $("#vehicleDataWindow").slideDown();
        } else {
          
          console.log("No vehicle data available.");
        }
      },
      error: function(xhr, status, error) {
        
        console.error("Error fetching vehicle data:", error);
      }
    });
  }
  function fetchAndDisplayMechanicData() {
    $.ajax({
      url: "/fetch_mechanic_data",
      method: "GET",
      success: function(response) {
        if (response && response.length > 0) {
          var mechanicDataBody = $("#mechanicDataBody");
          mechanicDataBody.empty(); 
          response.forEach(function(mechanic) {
            var row = "<tr>";
            row += "<td>" + mechanic.mechanic_id + "</td>";
            row += "<td>" + mechanic.mech_fname + "</td>";
            row += "<td>" + mechanic.mech_lname + "</td>";
            row += "<td>" + mechanic.date_worked + "</td>";
            row += "</tr>";
            mechanicDataBody.append(row);
          });
          $("#mechanicDataWindow").slideDown();
        } else {
          console.log("No mechanic data available.");
        }
      },
      error: function(xhr, status, error) {
        console.error("Error fetching mechanic data:", error);
      }
    });
  }
  function fetchAndDisplaySalespersonData() 
  {
    $.ajax({url: "/fetch_Salesperson_data", method: "GET", success: function(response) 
    {
        // Check if vehicle data is available
        if (response && response.length > 0)
        {
          var spDataBody = $("#spDataBody");
          // Clear previous data
          spDataBody.empty();
          // add table rows with vehicle data
          response.forEach(function(salesperson) {
            var row = "<tr>";
            row += "<td>" + salesperson.salesperson_id + "</td>";
            row += "<td>" + salesperson.sp_fname + "</td>";
            row += "<td>" + salesperson.sp_lname + "</td>";
            row += "<td>" + salesperson.date_worked + "</td>"; 
            row += "</tr>";
            spDataBody.append(row);
          });
          // Show the vehicle data window by using the slide down for sexiness
          $("#spDataWindow").slideDown();
        } else {
          
          console.log("No Salesperson data available.");
        }
      },
      error: function(xhr, status, error) {
        
        console.error("Error fetching Salesperson data:", error);
      }
    });
  }

  function fetchAndServiceAndInventoryData() 
  {
    $.ajax({url: "/fetch_Services_Inventory", method: "GET", success: function(response) 
    {
        // Check if vehicle data is available
        if (response && response.length > 0)
        {
          var siDataBody = $("#siDataBody");
          // Clear previous data
          siDataBody.empty();
          // add table rows with vehicle data
          response.forEach(function(serivceAndinventory) {
            var row = "<tr>";
            row += "<td>" + serivceAndinventory.services + "</td>";
            row += "<td>" + serivceAndinventory.parts_amount + "</td>";
            row += "<td>" + serivceAndinventory.parts + "</td>"; 
            row += "</tr>";
            siDataBody.append(row);
          });
          // Show the vehicle data window by using the slide down for sexiness
          $("#siDataWindow").slideDown();
        } else {
          
          console.log("No Service And Inventory data available.");
        }
      },
      error: function(xhr, status, error) {
        
        console.error("Error fetching Service And Inventory data:", error);
      }
    });
  }
  function fetchAndServiceScheduleData() 
  {
    $.ajax({url: "/fetch_ServiceSchedule_data", method: "GET", success: function(response) 
    {
        // Check if vehicle data is available
        if (response && response.length > 0)
        {
          var ssDataBody = $("#ssDataBody");
          // Clear previous data
          ssDataBody.empty();
          // add table rows with vehicle data
          response.forEach(function(ServiceSchedule) {
            var row = "<tr>";
            row += "<td>" + ServiceSchedule.service_date + "</td>";
            row += "<td>" + ServiceSchedule.services + "</td>";
            row += "<td>" + ServiceSchedule.parts + "</td>"; 
            row += "</tr>";
            ssDataBody.append(row);
          });
          // Show the vehicle data window by using the slide down for sexiness
          $("#ssDataWindow").slideDown();
        } else {
          
          console.log("No Service Schedule data available.");
        }
      },
      error: function(xhr, status, error) {
        
        console.error("Error fetching Service Schedule data:", error);
      }
    });
  }
  function fetchStaffCalendarData() 
  {
    $.ajax({url: "/fetch_StaffCalendar_data", method: "GET", success: function(response) 
    {
        // Check if vehicle data is available
        if (response && response.length > 0)
        {
          var scDataBody = $("#scDataBody");
          // Clear previous data
          scDataBody.empty();
          // add table rows with vehicle data
          response.forEach(function(staffcalender) {
            var row = "<tr>";
            row += "<td>" + staffcalender.date_worked + "</td>";
            row += "<td>" + staffcalender.signin_time + "</td>";
            row += "<td>" + staffcalender.signout_time + "</td>";
            row += "<td>" + staffcalender.mechanic_id + "</td>";
            row += "<td>" + staffcalender.salesperson_id + "</td>";
            row += "</tr>";
            scDataBody.append(row);
          });
          // Show the vehicle data window by using the slide down for sexiness
          $("#scDataWindow").slideDown();
        } else {
          
          console.log("No staff calender data available.");
        }
      },
      error: function(xhr, status, error) {
        
        console.error("Error fetching staff calender data:", error);
      }
    });
  }
  function fetchInvoiceHistoryData() 
  {
    $.ajax({url: "/fetch_invoiceHistory_data", method: "GET", success: function(response) 
    {
        // Check if vehicle data is available
        if (response && response.length > 0)
        {
          var ihDataBody = $("#ihDataBody");
          // Clear previous data
          ihDataBody.empty();
          // add table rows with vehicle data
          response.forEach(function(invoicehistory) {
            var row = "<tr>";
            row += "<td>" + invoicehistory.invoice_id + "</td>";
            row += "<td>" + invoicehistory.invoice_price + "</td>";
            row += "<td>" + invoicehistory.service_date + "</td>";
            row += "</tr>";
            ihDataBody.append(row);
          });
          // Show the vehicle data window by using the slide down for sexiness
          $("#ihDataWindow").slideDown();
        } else {
          
          console.log("No staff Invoice History Data available.");
        }
      },
      error: function(xhr, status, error) {
        
        console.error("Error fetching Invoice History data:", error);
      }
    });
  }
  function fetchCustomerInfoData() 
  {
    $.ajax({url: "/fetch_CustomerInfo_data", method: "GET", success: function(response) 
    {
        // Check if vehicle data is available
        if (response && response.length > 0)
        {
          var ciDataBody = $("#ciDataBody");
          // Clear previous data
          ciDataBody.empty();
          // add table rows with vehicle data
          response.forEach(function(customerinfo) {
            var row = "<tr>";
            row += "<td>" + customerinfo.cust_id + "</td>";
            row += "<td>" + customerinfo.cust_address + "</td>";
            row += "<td>" + customerinfo.dob + "</td>";
            row += "<td>" + customerinfo.cust_fname + "</td>";
            row += "<td>" + customerinfo.cust_lname + "</td>";
            row += "<td>" + customerinfo.cust_phonenumber + "</td>";
            row += "</tr>";
            ciDataBody.append(row);
          });
          // Show the vehicle data window by using the slide down for sexiness
          $("#ciDataWindow").slideDown();
        } else {
          
          console.log("No staff Customer Information Data available.");
        }
      },
      error: function(xhr, status, error) {
        
        console.error("Error fetching Customer Information data:", error);
      }
    });
  }
   $("#ihDataWindow").hide(); // Hide the window initially

   $("#ihDataWindow").hide();

  $("#loginForm").submit(function(e){
    e.preventDefault(); 
    var email = $("#email").val();
    var password = $("#password").val();
    var loginType = $("#loginType").val();

    
    if(email && password) {
        
        $.ajax({
            url: "/login",
            method: "POST",
            data: {
                email: email,
                password: password,
                loginType: loginType
            },
            success: function(response) {
               
                $("#loginMessage").text(response);
                if (response === "Login successful") {
                   
                    $("#userInfoEmail").text(email);
                    $("#userInfoName").text("Machew Kilpatrick"); 
                    $("#userInfoRole").text(loginType);
                    $("#userInfoBox").slideDown();

                    
                    $("#additionalInfoID").text("00512831");
                    $("#additionalInfoAge").text("21");
                    $("#additionalInfoPhoneNumber").text("9-1-1"); 
                    $("#additionalInfoAddress").text("20 Beacons Way"); 
                    $("#additionalInfoDOB").text("September 11, 2001"); 
                    $("#additionalInfoBox").slideDown();

                    
                    if (loginType === "employee") {
                        
                        fetchAndDisplayVehicleData();
                        fetchAndDisplayMechanicData();
                        fetchAndDisplaySalespersonData();
                        fetchAndServiceAndInventoryData();
                        fetchAndServiceScheduleData();
                        fetchStaffCalendarData();
                        fetchInvoiceHistoryData();
                        fetchCustomerInfoData();
                    }
                    else if(loginType == "customer")
                    {
                      $("#vehicleDataWindow").slideUp();
                      $("#mechanicDataWindow").slideUp();
                      $("#spDataWindow").slideUp();
                      $("#siDataWindow").slideUp();
                      $("#ssDataWindow").slideUp(); 
                      $("#scDataWindow").slideUp();
                      $("#ihDataWindow").slideUp();  
                      $("#ciDataWindow").slideUp(); 


                
                    }
                }
            },
            error: function(xhr, status, error) {
               
                console.error(error);
            }
        });
    } else {
        $("#loginMessage").text("Email and password are required");
    }
  });

</script>

<footer class="container-fluid text-center">
  <p>Online Store Copyright</p>  
  <!-- <img src="https://github.com/lilmatthew2828/machewwork/blob/main/Black%20White%20Elegant%20Monogram%20Initial%20Name%20Logo.jpeg?raw=true" alt="Flowers in Chania"> -->
  <form class="form-inline">Umbrella Storage Company 
    <style>
      </style>
    <input type="email" class="form-control" size="30" placeholder="Email Address">
    <button type="button" class="btn btn-danger">Sign Up Here</button>
  </form>
</footer>
</body>
</html>
